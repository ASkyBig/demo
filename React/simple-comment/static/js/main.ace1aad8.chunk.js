(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(7),o=n.n(i),r=n(1),l=n(2),u=n(4),m=n(3),c=n(5),h=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={userName:"",userContent:""},e}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.loadUserName()}},{key:"componentDidMount",value:function(){this.commentInput.focus()}},{key:"loadUserName",value:function(){var e=localStorage.getItem("userName");e&&this.setState({userName:e})}},{key:"handleUserName",value:function(e){var t=e.target.value;this.setState({userName:t})}},{key:"handleBlur",value:function(){localStorage.setItem("userName",this.state.userName)}},{key:"handleUserContent",value:function(e){var t=e.target.value;this.setState({userContent:t})}},{key:"handleSubmit",value:function(){var e=this.state,t=e.userName,n=e.userContent,a=Date.now();this.props.inputCallback(t,n,a),this.setState({userName:t,userContent:""})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("span",null,"\u7528\u6237\u540d\uff1a"),s.a.createElement("input",{value:this.state.userName,onChange:this.handleUserName.bind(this),onBlur:this.handleBlur.bind(this)}),s.a.createElement("hr",null),s.a.createElement("span",{style:{color:"red"}},"\u8bc4\u8bba\u5185\u5bb9\uff1a"),s.a.createElement("input",{ref:function(t){return e.commentInput=t},value:this.state.userContent,onChange:this.handleUserContent.bind(this)}),s.a.createElement("hr",null),s.a.createElement("button",{style:{backgroundColor:"#39a2d2",color:"white"},onClick:this.handleSubmit.bind(this)},"\u53d1\u5e03"))}}]),t}(a.Component),d=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={existTimeStr:""},e}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.renderTime(),this.timer=setInterval(function(){e.renderTime()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"deleteComment",value:function(){this.props.onDeleteItem(this.props.idx)}},{key:"renderTime",value:function(){var e=this.props.itemInfo,t=(Date.now()-e.createTime)/1e3,n=t<60?parseInt(Math.max(t,1))+"\u79d2\u524d":t<3600?parseInt(t/60)+"\u5206\u949f\u524d":parseInt(t/3600)+"\u5c0f\u65f6\u524d";this.setState({existTimeStr:n})}},{key:"render",value:function(){var e=this.props.itemInfo;return s.a.createElement("div",null,e.userName,": ",e.userContent," \u2014\u2014 \u53d1\u5e03\u4e8e ",this.state.existTimeStr," ",s.a.createElement("button",{onClick:this.deleteComment.bind(this)},"\u5220\u9664"))}}]),t}(a.Component),v=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"handleDeleteItem",value:function(e){this.props.onDeleteComment(e)}},{key:"render",value:function(){var e=this,t=this.props.commentList;return console.log("commentList.js =\u300bcommentList",t),s.a.createElement("div",null,!!t.length&&t.map(function(t,n){return s.a.createElement(d,{key:n,idx:n,itemInfo:t,onDeleteItem:e.handleDeleteItem.bind(e)})}))}}]),t}(a.Component),p=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={commentList:[]},e}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.loadComments()}},{key:"loadComments",value:function(){var e=localStorage.getItem("comment");e&&this.setState({commentList:JSON.parse(e)})}},{key:"saveComments",value:function(){localStorage.setItem("comment",JSON.stringify(this.state.commentList))}},{key:"handleDeleteComment",value:function(e){var t=this.state.commentList;t.splice(e,1),this.setState({commentList:t}),this.saveComments()}},{key:"handleInputCallback",value:function(e,t,n){e||alert("enter userName"),t||alert("enter userContent"),this.state.commentList.push({userName:e,userContent:t,createTime:n}),this.setState({commentList:this.state.commentList}),this.saveComments(),console.log(e," + ",t)}},{key:"render",value:function(){var e=this.state.commentList;return s.a.createElement("div",null,s.a.createElement(h,{inputCallback:this.handleInputCallback.bind(this)}),s.a.createElement(v,{onDeleteComment:this.handleDeleteComment.bind(this),commentList:e}))}}]),t}(a.Component);o.a.render(s.a.createElement(p,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.ace1aad8.chunk.js.map